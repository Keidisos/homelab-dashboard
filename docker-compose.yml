services:
  lab-dashboard:
    build: .
    container_name: lab-dashboard
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      # Persist settings data
      - ./data:/app/data
    environment:
      # Proxmox
      - PROXMOX_HOST=${PROXMOX_HOST}
      - PROXMOX_TOKEN_ID=${PROXMOX_TOKEN_ID}
      - PROXMOX_TOKEN_SECRET=${PROXMOX_TOKEN_SECRET}

      # Portainer
      - PORTAINER_HOST=${PORTAINER_HOST}
      - PORTAINER_API_KEY=${PORTAINER_API_KEY}

      # Jellyfin
      - JELLYFIN_HOST=${JELLYFIN_HOST}
      - JELLYFIN_API_KEY=${JELLYFIN_API_KEY}

      # Pterodactyl
      - PTERODACTYL_HOST=${PTERODACTYL_HOST}
      - PTERODACTYL_API_KEY=${PTERODACTYL_API_KEY}

      # Jellyseerr
      - JELLYSEERR_HOST=${JELLYSEERR_HOST}
      - JELLYSEERR_API_KEY=${JELLYSEERR_API_KEY}

      # qBittorrent
      - QBITTORRENT_HOST=${QBITTORRENT_HOST}
      - QBITTORRENT_USERNAME=${QBITTORRENT_USERNAME}
      - QBITTORRENT_PASSWORD=${QBITTORRENT_PASSWORD}
    networks:
      - homelab

networks:
  homelab:
    driver: bridge
