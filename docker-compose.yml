services:
  lab-dashboard:
    build: .
    container_name: lab-dashboard
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      # Proxmox
      - PROXMOX_HOST=${PROXMOX_HOST}
      - PROXMOX_TOKEN_ID=${PROXMOX_TOKEN_ID}
      - PROXMOX_TOKEN_SECRET=${PROXMOX_TOKEN_SECRET}

      # Portainer
      - PORTAINER_HOST=${PORTAINER_HOST}
      - PORTAINER_API_KEY=${PORTAINER_API_KEY}

      # Jellyfin
      - JELLYFIN_HOST=${JELLYFIN_HOST}
      - JELLYFIN_API_KEY=${JELLYFIN_API_KEY}

      # Pterodactyl
      - PTERODACTYL_HOST=${PTERODACTYL_HOST}
      - PTERODACTYL_API_KEY=${PTERODACTYL_API_KEY}

      # UGOS NAS
      - UGOS_HOST=${UGOS_HOST}
      - UGOS_USERNAME=${UGOS_USERNAME}
      - UGOS_PASSWORD=${UGOS_PASSWORD}

      # Jellyseerr
      - JELLYSEERR_HOST=${JELLYSEERR_HOST}
      - JELLYSEERR_API_KEY=${JELLYSEERR_API_KEY}

      # qBittorrent
      - QBITTORRENT_HOST=${QBITTORRENT_HOST}
      - QBITTORRENT_USERNAME=${QBITTORRENT_USERNAME}
      - QBITTORRENT_PASSWORD=${QBITTORRENT_PASSWORD}

      # Public URLs (for external links in UI)
      - NEXT_PUBLIC_PROXMOX_HOST=${NEXT_PUBLIC_PROXMOX_HOST}
      - NEXT_PUBLIC_PORTAINER_HOST=${NEXT_PUBLIC_PORTAINER_HOST}
      - NEXT_PUBLIC_JELLYFIN_HOST=${NEXT_PUBLIC_JELLYFIN_HOST}
      - NEXT_PUBLIC_PTERODACTYL_HOST=${NEXT_PUBLIC_PTERODACTYL_HOST}
      - NEXT_PUBLIC_RADARR_HOST=${NEXT_PUBLIC_RADARR_HOST}
      - NEXT_PUBLIC_SONARR_HOST=${NEXT_PUBLIC_SONARR_HOST}
      - NEXT_PUBLIC_QBITTORRENT_HOST=${NEXT_PUBLIC_QBITTORRENT_HOST}
      - NEXT_PUBLIC_JELLYSEERR_HOST=${NEXT_PUBLIC_JELLYSEERR_HOST}
      - NEXT_PUBLIC_NAS_HOST=${NEXT_PUBLIC_NAS_HOST}
    networks:
      - homelab

networks:
  homelab:
    driver: bridge
